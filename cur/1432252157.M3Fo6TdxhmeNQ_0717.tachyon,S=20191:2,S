From rswatjfet.org+caf_=rsw=jfet.org@gmail.com  Sat Sep 27 23:23:48 2014
Return-Path: <rswatjfet.org+caf_=rsw=jfet.org@gmail.com>
Received: from mail-pd0-f175.google.com (mail-pd0-f175.google.com [209.85.192.175])
	by antiproton.jfet.org (8.14.4/8.14.4/Debian-4.1) with ESMTP id s8S3NlaF029333
	(version=TLSv1/SSLv3 cipher=RC4-SHA bits=128 verify=NOT)
	for <rsw@jfet.org>; Sat, 27 Sep 2014 23:23:48 -0400
Authentication-Results: antiproton.jfet.org; dkim=fail
	reason="verification failed; unprotected key"
	header.d=gmail.com header.i=@gmail.com header.b=AXgru2Zx;
	dkim-adsp=none (unprotected policy); dkim-atps=neutral
Received: by mail-pd0-f175.google.com with SMTP id v10so14024556pde.6
        for <rsw@jfet.org>; Sat, 27 Sep 2014 20:23:39 -0700 (PDT)
X-Received: by 10.70.134.98 with SMTP id pj2mr60176120pdb.65.1411874619715;
        Sat, 27 Sep 2014 20:23:39 -0700 (PDT)
X-Forwarded-To: rsw@jfet.org
X-Forwarded-For: rswatjfet.org@gmail.com rsw@jfet.org
Delivered-To: rswatjfet.org@gmail.com
Received: by 10.70.92.9 with SMTP id ci9csp10629pdb;
        Sat, 27 Sep 2014 20:23:38 -0700 (PDT)
X-Received: by 10.68.239.202 with SMTP id vu10mr32583212pbc.109.1411874618222;
        Sat, 27 Sep 2014 20:23:38 -0700 (PDT)
Received: from localhost (antiproton.jfet.org. [209.141.47.85])
        by mx.google.com with ESMTPS id bw10si16575221pdb.124.2014.09.27.20.23.37
        for <rswATjfet.org@gmail.com>
        (version=TLSv1.2 cipher=RC4-SHA bits=128/128);
        Sat, 27 Sep 2014 20:23:38 -0700 (PDT)
Received-SPF: neutral (google.com: 209.141.47.85 is neither permitted nor denied by domain of rsw+cypherpunks-bounces=cpunks.org@gloop.phonon.net) client-ip=209.141.47.85;
Authentication-Results: mx.google.com;
       spf=neutral (google.com: 209.141.47.85 is neither permitted nor denied by domain of rsw+cypherpunks-bounces=cpunks.org@gloop.phonon.net) smtp.mail=rsw+cypherpunks-bounces=cpunks.org@gloop.phonon.net;
       dkim=fail header.i=@gmail.com;
       dmarc=fail (p=NONE dis=NONE) header.from=gmail.com
Received: from antiproton.jfet.org (localhost.localdomain [127.0.0.1])
	by antiproton.jfet.org (8.14.4/8.14.4/Debian-4.1) with ESMTP id s8S3MLk2029313;
	Sat, 27 Sep 2014 23:22:29 -0400
Received: from mail-ob0-f182.google.com (mail-ob0-f182.google.com
 [209.85.214.182])
 by antiproton.jfet.org (8.14.4/8.14.4/Debian-4.1) with ESMTP id s8S3MISo029309
 (version=TLSv1/SSLv3 cipher=RC4-SHA bits=128 verify=NOT)
 for <cypherpunks@cpunks.org>; Sat, 27 Sep 2014 23:22:19 -0400
Received: by mail-ob0-f182.google.com with SMTP id wo20so11787339obc.27
 for <cypherpunks@cpunks.org>; Sat, 27 Sep 2014 20:22:11 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=gmail.com; s=20120113;
 h=mime-version:in-reply-to:references:from:date:message-id:subject:to
 :cc:content-type;
 bh=1ppm+EAzmASBpBOnGxFUlNVLrc3PIhi+6xmDw3LcyJY=;
 b=AXgru2Zx+7t4h3ePU17GQfE2GsS7nS/clIN5ChsB6AeQFRfhcxEQeuSQJTwiBGT0om
 qwhPd0ylb8jhclBeAivrLR3MIc6isGVJeCm+W4qyifbF1t3mTHF3TPHuHrPnS72nlD0x
 xV45U9rx6oSvI1wNfJn/9fPOXZnl4VaejNuiXnhIZKf9SmR6KsrjKWcpPGxliTd3QYBM
 2Ao9dtReJB28KhaahVAOhwjKRBEaBO0KHSx6dnNhHqpnJdnQWHZ5WJ+6pqHRZPprdJ0u
 TXOlgIFOXs2IP+N7e05AzoguaXtVI1UJMonzkAk8rhZurdsTnqQ7yQ2Q74MjHlV8uGAE
 4K7g==
X-Received: by 10.60.103.198 with SMTP id fy6mr29917229oeb.6.1411874531062;
 Sat, 27 Sep 2014 20:22:11 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.76.35.103 with HTTP; Sat, 27 Sep 2014 20:21:50 -0700 (PDT)
In-Reply-To: <20140928015713.GD1755@nl.grid.coop>
References: <20140927160304.GC1755@nl.grid.coop>
 <CAHWD2rKUxNKtXgQ8VtvW9_L4XcXKxrRXaCVF+fZiH9_o2jE3Ug@mail.gmail.com>
 <CAKtE3zcZ9LuBKvJnFm_RJ3te=MotchXXDioJa17291uHUvFJFg@mail.gmail.com>
 <20140928015713.GD1755@nl.grid.coop>
Date: Sat, 27 Sep 2014 23:21:50 -0400
Message-ID: <CAKtE3zcfTC9+sAgTaw2XUwPPE_EM1_XEsC-AB5v9fJOQ=1KWhw@mail.gmail.com>
Subject: Re: bashing your head against nation-state social engineering
To: Troy Benjegerdes <hozer@hozed.org>
Content-Type: multipart/alternative; boundary=089e011831f2e43b60050417a7fa
Cc: "cypherpunks@cpunks.org" <cypherpunks@cpunks.org>
X-BeenThere: cypherpunks@cpunks.org
X-Mailman-Version: 2.1.16
Precedence: list
List-Id: The Cypherpunks Mailing List <cypherpunks.cpunks.org>
List-Unsubscribe: <https://cpunks.org/mailman/options/cypherpunks>,
 <mailto:cypherpunks-request@cpunks.org?subject=unsubscribe>
List-Archive: <http://cpunks.org/pipermail/cypherpunks/>
List-Post: <mailto:cypherpunks@cpunks.org>
List-Help: <mailto:cypherpunks-request@cpunks.org?subject=help>
List-Subscribe: <https://cpunks.org/mailman/listinfo/cypherpunks>,
 <mailto:cypherpunks-request@cpunks.org?subject=subscribe>
Errors-To: cypherpunks-bounces@cpunks.org
Sender: "cypherpunks" <cypherpunks-bounces@cpunks.org>
From: Travis Biehn <tbiehn@gmail.com>
X-Gspam-Loop: antiproton.jfet.org
Status: O
Content-Length: 15360
Lines: 381

--089e011831f2e43b60050417a7fa
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

As long as 'fixing the problem' is perceived to be more expensive than
'applying patches' then the problem will persist.

Meanwhile the rest of the cognoscenti can air-gap key signing activities
and use managed code / safe languages or throwaway VMs.

Troy, as an end user you may be interested in pursuing Qubes for your daily
OS if you're interested in 'browsing the internet' and 'remaining
reasonably safe from state level attackers.'

-Travis

On Sat, Sep 27, 2014 at 9:57 PM, Troy Benjegerdes <hozer@hozed.org> wrote:

> So every once in awhile I have fits of plausible paranoia, which lead me =
to
> second guess the motives of everyone arguing why it's 'so hard' to simpli=
fy
> things by doing something like removing bash from debian.
>
> The fastest way for me to remove potential vulnerabilities in bash
> environment
> handling is remove the code, and the side effect is this, as a policy wil=
l
> hopefully make for more standard and maintainable code, rather than stuff
> that happens to rely on the specific implementation of a shell.
>
> So yeah, it's probably unlikely this was intentionally created, however I
> think it's a good bet it was intentionally exploited at least once, and
> there is plenty of motivation for some social engineering to try to keep
> it exploitable.
>
> My hope, however, is that inter-departmental competition inside TLA
> agencies
> and within nation-states is sufficient so that at least one security head
> who has similiar plausibly paranoid delusions, and decides to fund OpenBS=
D
> and/or bash-free debian as a short term, and some of the more interesting
> security by isolation stuff on the horizon.
>
>
> On Sat, Sep 27, 2014 at 02:48:24PM -0400, Travis Biehn wrote:
> > I'm partial to Joanna Rutkowska's statement that "Security by Isolation=
"
> is
> > the best course followed for -users- of software. [in addition to all t=
he
> > patching and whatever.]
> >
> > Developers of that software, ultimately, are responsible for securing
> their
> > stuff. As an aside - separating your complex system into multiple trust
> > zones, from a development standpoint, is de-rigueur for secure design.
> >
> > Security heads have long been decrying cgi-bin. Most of the reason is
> that
> > the threat surface is insane - for binaries you have user input that's
> not
> > running in some sort of VM [php,perl,ruby,node.js, etc] and existing in
> > memory entangled with executable instructions.
> >
> > Injection attacks, are, of course old-hat. The daemons could have done
> some
> > hand-holding in this respect before passing off headers to ENV variable=
s.
> >
> > The issue is that 'restricted chars' wasn't defined by a standard
> interface
> > between daemon and cgi-bin script. The called function has a completely
> > arbitrary set of restricted chars.
> > /bin/bash, of course, isn't written to withstand env attacks - since th=
e
> > calling user controls the env / and bash is executed under that user's
> > privileges.
> > So it is, of a matter of course, inevitable to find vulnerability there=
.
> > With one process isolating the client from the env, modifying the env a=
s
> a
> > result of the user's whims and then passing off to a sub-process that
> > trusts the env implicitly.
> >
> > It is very unlikely that any TLA 'created' this vulnerability. The noti=
on
> > is entirely incredible. The existence of vulnerability in such a design
> is
> > immediately obvious from anyone who takes more than a cursory look at i=
t.
> > That isn't to say that this specific attack was trivial to identify -
> that
> > is to say from an architecture standpoint it should be evident that the
> > handoff between httpd and cgi-bin is a location of extreme vulnerabilit=
y.
> >
> > On a related note: Mirage OS looks like it's on a promising tack:
> > http://www.xenproject.org/developers/teams/mirage-os.html
> >
> > -Travis
> >
> > On Sat, Sep 27, 2014 at 12:49 PM, Lodewijk andr=C3=A9 de la porte <
> l@odewijk.nl>
> > wrote:
> >
> > > Know what you code, and what you run. Don't be fooled by words and
> shapes,
> > > code does what code does, that is all.
> > >
> > > We seriously need a way to detach code from mental models to expose
> hidden
> > > features. Basically, all computer law is rubbish because everything
> you run
> > > on your computer, exploits and all, is something you run by choice. B=
ut
> > > there's no way you could validate the sheer bulk of code. If you want
> to
> > > really solve security flaws it'll involve somehow validating the
> > > possibilities of the code run.
> > >
> > > It's a discipline that touches on visualization, automated testing an=
d
> > > simplification. Simplification meaning, reducing possible states and
> > > "execution paths". And just making code easier to comprehend.
> > >
> > > The problem is that there's either no market for "truly secure"
> computing,
> > > or there's just nobody filling the gap. Banks with their Cobol are
> laughed
> > > at, mostly, and accused of lacking innovation. They do lack innovatio=
n
> in
> > > the technical field. And Cobol is definitely not an ideal language. B=
ut
> > > "truly secure" is worth a lot to them. L4 validated is a step in the
> right
> > > direction, but catches a lot of wind saying it's still imperfect and
> > > therefore worthless.
> > >
> > > I'm utterly bored by code review. Maybe it'd be better if there were
> some
> > > nicer tools to help out. I'm really sure someone has great
> recommendations
> > > regarding this. (That don't even require Cobol :)
> > >
> >
> >
> >
> > --
> > Twitter <https://twitter.com/tbiehn> | LinkedIn
> > <http://www.linkedin.com/in/travisbiehn> | GitHub <
> http://github.com/tbiehn>
> > | TravisBiehn.com <http://www.travisbiehn.com> | Google Plus
> > <https://plus.google.com/+TravisBiehn>
>
> --
>
> -------------------------------------------------------------------------=
---
> Troy Benjegerdes                 'da hozer'
> hozer@hozed.org
> 7 elements      earth::water::air::fire::mind::spirit::soul
> grid.coop
>
>       Never pick a fight with someone who buys ink by the barrel,
>          nor try buy a hacker who makes money by the megahash
>
>


--=20
Twitter <https://twitter.com/tbiehn> | LinkedIn
<http://www.linkedin.com/in/travisbiehn> | GitHub <http://github.com/tbiehn=
>
| TravisBiehn.com <http://www.travisbiehn.com> | Google Plus
<https://plus.google.com/+TravisBiehn>

--089e011831f2e43b60050417a7fa
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<div dir=3D"ltr"><div>As long as &#39;fixing the problem&#39; is perceived =
to be more expensive than &#39;applying patches&#39; then the problem will =
persist.<br></div><div><br></div><div>Meanwhile the rest of the cognoscenti=
 can air-gap key signing activities and use managed code / safe languages o=
r throwaway VMs.</div><div><br></div><div>Troy, as an end user you may be i=
nterested in pursuing Qubes for your daily OS if you&#39;re interested in &=
#39;browsing the internet&#39; and &#39;remaining reasonably safe from stat=
e level attackers.&#39;</div><div><br></div><div>-Travis</div></div><div cl=
ass=3D"gmail_extra"><br><div class=3D"gmail_quote">On Sat, Sep 27, 2014 at =
9:57 PM, Troy Benjegerdes <span dir=3D"ltr">&lt;<a href=3D"mailto:hozer@hoz=
ed.org" target=3D"_blank">hozer@hozed.org</a>&gt;</span> wrote:<br><blockqu=
ote class=3D"gmail_quote" style=3D"margin:0 0 0 .8ex;border-left:1px #ccc s=
olid;padding-left:1ex">So every once in awhile I have fits of plausible par=
anoia, which lead me to<br>
second guess the motives of everyone arguing why it&#39;s &#39;so hard&#39;=
 to simplify<br>
things by doing something like removing bash from debian.<br>
<br>
The fastest way for me to remove potential vulnerabilities in bash environm=
ent<br>
handling is remove the code, and the side effect is this, as a policy will<=
br>
hopefully make for more standard and maintainable code, rather than stuff<b=
r>
that happens to rely on the specific implementation of a shell.<br>
<br>
So yeah, it&#39;s probably unlikely this was intentionally created, however=
 I<br>
think it&#39;s a good bet it was intentionally exploited at least once, and=
<br>
there is plenty of motivation for some social engineering to try to keep<br=
>
it exploitable.<br>
<br>
My hope, however, is that inter-departmental competition inside TLA agencie=
s<br>
and within nation-states is sufficient so that at least one security head<b=
r>
who has similiar plausibly paranoid delusions, and decides to fund OpenBSD<=
br>
and/or bash-free debian as a short term, and some of the more interesting<b=
r>
security by isolation stuff on the horizon.<br>
<div><div class=3D"h5"><br>
<br>
On Sat, Sep 27, 2014 at 02:48:24PM -0400, Travis Biehn wrote:<br>
&gt; I&#39;m partial to Joanna Rutkowska&#39;s statement that &quot;Securit=
y by Isolation&quot; is<br>
&gt; the best course followed for -users- of software. [in addition to all =
the<br>
&gt; patching and whatever.]<br>
&gt;<br>
&gt; Developers of that software, ultimately, are responsible for securing =
their<br>
&gt; stuff. As an aside - separating your complex system into multiple trus=
t<br>
&gt; zones, from a development standpoint, is de-rigueur for secure design.=
<br>
&gt;<br>
&gt; Security heads have long been decrying cgi-bin. Most of the reason is =
that<br>
&gt; the threat surface is insane - for binaries you have user input that&#=
39;s not<br>
&gt; running in some sort of VM [php,perl,ruby,node.js, etc] and existing i=
n<br>
&gt; memory entangled with executable instructions.<br>
&gt;<br>
&gt; Injection attacks, are, of course old-hat. The daemons could have done=
 some<br>
&gt; hand-holding in this respect before passing off headers to ENV variabl=
es.<br>
&gt;<br>
&gt; The issue is that &#39;restricted chars&#39; wasn&#39;t defined by a s=
tandard interface<br>
&gt; between daemon and cgi-bin script. The called function has a completel=
y<br>
&gt; arbitrary set of restricted chars.<br>
&gt; /bin/bash, of course, isn&#39;t written to withstand env attacks - sin=
ce the<br>
&gt; calling user controls the env / and bash is executed under that user&#=
39;s<br>
&gt; privileges.<br>
&gt; So it is, of a matter of course, inevitable to find vulnerability ther=
e.<br>
&gt; With one process isolating the client from the env, modifying the env =
as a<br>
&gt; result of the user&#39;s whims and then passing off to a sub-process t=
hat<br>
&gt; trusts the env implicitly.<br>
&gt;<br>
&gt; It is very unlikely that any TLA &#39;created&#39; this vulnerability.=
 The notion<br>
&gt; is entirely incredible. The existence of vulnerability in such a desig=
n is<br>
&gt; immediately obvious from anyone who takes more than a cursory look at =
it.<br>
&gt; That isn&#39;t to say that this specific attack was trivial to identif=
y - that<br>
&gt; is to say from an architecture standpoint it should be evident that th=
e<br>
&gt; handoff between httpd and cgi-bin is a location of extreme vulnerabili=
ty.<br>
&gt;<br>
&gt; On a related note: Mirage OS looks like it&#39;s on a promising tack:<=
br>
&gt; <a href=3D"http://www.xenproject.org/developers/teams/mirage-os.html" =
target=3D"_blank">http://www.xenproject.org/developers/teams/mirage-os.html=
</a><br>
&gt;<br>
&gt; -Travis<br>
&gt;<br>
&gt; On Sat, Sep 27, 2014 at 12:49 PM, Lodewijk andr=C3=A9 de la porte &lt;=
<a href=3D"mailto:l@odewijk.nl">l@odewijk.nl</a>&gt;<br>
&gt; wrote:<br>
&gt;<br>
&gt; &gt; Know what you code, and what you run. Don&#39;t be fooled by word=
s and shapes,<br>
&gt; &gt; code does what code does, that is all.<br>
&gt; &gt;<br>
&gt; &gt; We seriously need a way to detach code from mental models to expo=
se hidden<br>
&gt; &gt; features. Basically, all computer law is rubbish because everythi=
ng you run<br>
&gt; &gt; on your computer, exploits and all, is something you run by choic=
e. But<br>
&gt; &gt; there&#39;s no way you could validate the sheer bulk of code. If =
you want to<br>
&gt; &gt; really solve security flaws it&#39;ll involve somehow validating =
the<br>
&gt; &gt; possibilities of the code run.<br>
&gt; &gt;<br>
&gt; &gt; It&#39;s a discipline that touches on visualization, automated te=
sting and<br>
&gt; &gt; simplification. Simplification meaning, reducing possible states =
and<br>
&gt; &gt; &quot;execution paths&quot;. And just making code easier to compr=
ehend.<br>
&gt; &gt;<br>
&gt; &gt; The problem is that there&#39;s either no market for &quot;truly =
secure&quot; computing,<br>
&gt; &gt; or there&#39;s just nobody filling the gap. Banks with their Cobo=
l are laughed<br>
&gt; &gt; at, mostly, and accused of lacking innovation. They do lack innov=
ation in<br>
&gt; &gt; the technical field. And Cobol is definitely not an ideal languag=
e. But<br>
&gt; &gt; &quot;truly secure&quot; is worth a lot to them. L4 validated is =
a step in the right<br>
&gt; &gt; direction, but catches a lot of wind saying it&#39;s still imperf=
ect and<br>
&gt; &gt; therefore worthless.<br>
&gt; &gt;<br>
&gt; &gt; I&#39;m utterly bored by code review. Maybe it&#39;d be better if=
 there were some<br>
&gt; &gt; nicer tools to help out. I&#39;m really sure someone has great re=
commendations<br>
&gt; &gt; regarding this. (That don&#39;t even require Cobol :)<br>
&gt; &gt;<br>
&gt;<br>
&gt;<br>
&gt;<br>
&gt; --<br>
</div></div>&gt; Twitter &lt;<a href=3D"https://twitter.com/tbiehn" target=
=3D"_blank">https://twitter.com/tbiehn</a>&gt; | LinkedIn<br>
&gt; &lt;<a href=3D"http://www.linkedin.com/in/travisbiehn" target=3D"_blan=
k">http://www.linkedin.com/in/travisbiehn</a>&gt; | GitHub &lt;<a href=3D"h=
ttp://github.com/tbiehn" target=3D"_blank">http://github.com/tbiehn</a>&gt;=
<br>
&gt; | TravisBiehn.com &lt;<a href=3D"http://www.travisbiehn.com" target=3D=
"_blank">http://www.travisbiehn.com</a>&gt; | Google Plus<br>
&gt; &lt;<a href=3D"https://plus.google.com/+TravisBiehn" target=3D"_blank"=
>https://plus.google.com/+TravisBiehn</a>&gt;<br>
<div class=3D"HOEnZb"><div class=3D"h5"><br>
--<br>
---------------------------------------------------------------------------=
-<br>
Troy Benjegerdes=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=
=A0&#39;da hozer&#39;=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=
=A0 =C2=A0 <a href=3D"mailto:hozer@hozed.org">hozer@hozed.org</a><br>
7 elements=C2=A0 =C2=A0 =C2=A0 earth::water::air::fire::mind::spirit::soul=
=C2=A0 =C2=A0 =C2=A0 =C2=A0 <a href=3D"http://grid.coop" target=3D"_blank">=
grid.coop</a><br>
<br>
=C2=A0 =C2=A0 =C2=A0 Never pick a fight with someone who buys ink by the ba=
rrel,<br>
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0nor try buy a hacker who makes money by t=
he megahash<br>
<br>
</div></div></blockquote></div><br><br clear=3D"all"><div><br></div>-- <br>=
<div dir=3D"ltr"> <a href=3D"https://twitter.com/tbiehn" target=3D"_blank">=
Twitter</a> | <a href=3D"http://www.linkedin.com/in/travisbiehn" target=3D"=
_blank">LinkedIn</a> | <a href=3D"http://github.com/tbiehn" target=3D"_blan=
k">GitHub</a> | <a href=3D"http://www.travisbiehn.com" target=3D"_blank">Tr=
avisBiehn.com</a>=C2=A0| <a href=3D"https://plus.google.com/+TravisBiehn" t=
arget=3D"_blank">Google Plus</a><br></div>
</div>

--089e011831f2e43b60050417a7fa--

