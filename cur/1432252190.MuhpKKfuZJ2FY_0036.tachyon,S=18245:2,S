From rswatjfet.org+caf_=rsw=jfet.org@gmail.com  Tue Feb  3 12:29:02 2015
Return-Path: <rswatjfet.org+caf_=rsw=jfet.org@gmail.com>
Received: from mail-pa0-f49.google.com (mail-pa0-f49.google.com [209.85.220.49])
	by antiproton.jfet.org (8.14.4/8.14.4/Debian-4.1) with ESMTP id t13HT0kw009446
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=NOT)
	for <rsw@jfet.org>; Tue, 3 Feb 2015 12:29:02 -0500
Authentication-Results: antiproton.jfet.org; dkim=pass
	reason="1024-bit key; unprotected key"
	header.d=cs.helsinki.fi header.i=@cs.helsinki.fi header.b=ZlpK8SKq;
	dkim-adsp=pass; dkim-atps=neutral
Received: by mail-pa0-f49.google.com with SMTP id fa1so98794772pad.8
        for <rsw@jfet.org>; Tue, 03 Feb 2015 09:28:55 -0800 (PST)
X-Received: by 10.70.38.239 with SMTP id j15mr39966371pdk.115.1422984535343;
        Tue, 03 Feb 2015 09:28:55 -0800 (PST)
X-Forwarded-To: rsw@jfet.org
X-Forwarded-For: rswatjfet.org@gmail.com rsw@jfet.org
Delivered-To: rswatjfet.org@gmail.com
Received: by 10.70.127.72 with SMTP id ne8csp167331pdb;
        Tue, 3 Feb 2015 09:28:53 -0800 (PST)
X-Received: by 10.70.46.98 with SMTP id u2mr40058192pdm.26.1422984532707;
        Tue, 03 Feb 2015 09:28:52 -0800 (PST)
Received: from localhost (antiproton.jfet.org. [209.141.47.85])
        by mx.google.com with ESMTPS id qs6si3265202pbc.100.2015.02.03.09.28.52
        for <rswATjfet.org@gmail.com>
        (version=TLSv1.2 cipher=ECDHE-RSA-AES128-GCM-SHA256 bits=128/128);
        Tue, 03 Feb 2015 09:28:52 -0800 (PST)
Received-SPF: neutral (google.com: 209.141.47.85 is neither permitted nor denied by domain of rsw+cypherpunks-bounces=cpunks.org@gloop.phonon.net) client-ip=209.141.47.85;
Authentication-Results: mx.google.com;
       spf=neutral (google.com: 209.141.47.85 is neither permitted nor denied by domain of rsw+cypherpunks-bounces=cpunks.org@gloop.phonon.net) smtp.mail=rsw+cypherpunks-bounces=cpunks.org@gloop.phonon.net;
       dkim=pass header.i=@cs.helsinki.fi;
       dmarc=pass (p=REJECT dis=NONE) header.from=cs.helsinki.fi
Received: from antiproton.jfet.org (localhost.localdomain [127.0.0.1])
	by antiproton.jfet.org (8.14.4/8.14.4/Debian-4.1) with ESMTP id t13HSD4B009425;
	Tue, 3 Feb 2015 12:28:17 -0500
Received: from script.cs.helsinki.fi (script.cs.helsinki.fi [128.214.11.1])
 by antiproton.jfet.org (8.14.4/8.14.4/Debian-4.1) with ESMTP id t13HS6Cq009421
 (version=TLSv1/SSLv3 cipher=AES256-GCM-SHA384 bits=256 verify=NOT)
 for <cypherpunks@cpunks.org>; Tue, 3 Feb 2015 12:28:09 -0500
X-DKIM: Courier DKIM Filter v0.50+pk-2014-03-23 mail.cs.helsinki.fi Tue,
 03 Feb 2015 19:28:05 +0200
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=cs.helsinki.fi;
 h=message-id:date:from:mime-version:to:subject:references
 :in-reply-to:content-type; s=dkim20130528; bh=EYiFFE8iTZcZwm8hZZ
 U0f1HsmRlg3k+K/jKms9+wzeQ=; b=ZlpK8SKqgmIVBXOT+Mf3SfUpDU0HRYtpRA
 aCA2Kb3AkSMaOLhPSwes/jtU8XCJp9NN+oHTn43H/P8O1LQLpQVrZ5eQd7+otRfU
 KFxQNjlqqFdTcYVJb5kx9K7IIVZOCgl3rCOAhzKbBXgFnHaJJfrznSRLIo7+wO1G
 RaJL6YMCg=
Received: from [192.168.1.132] (dsl-hkibrasgw1-58c08e-223.dhcp.inet.fi
 [88.192.142.223])
 (AUTH: PLAIN oottela, TLS: TLSv1/SSLv3,128bits,AES128-SHA)
 by mail.cs.helsinki.fi with ESMTPSA; Tue, 03 Feb 2015 19:28:05 +0200
 id 000000000007FE94.0000000054D10525.00002EC8
Message-ID: <54D10521.9060104@cs.helsinki.fi>
Date: Tue, 03 Feb 2015 19:28:01 +0200
User-Agent: Mozilla/5.0 (X11; Linux x86_64;
 rv:31.0) Gecko/20100101 Thunderbird/31.4.0
MIME-Version: 1.0
To: cypherpunks@cpunks.org
Subject: Re: Tox.im
References: <53B84037.7030406@cathalgarvey.me>
 <20140705203650.GG6997@ctrlc.hu> <2906430.aKg3HFcaSO@lapuntu>
In-Reply-To: <2906430.aKg3HFcaSO@lapuntu>
Content-Type: multipart/alternative;
 boundary="------------010600090308030308000402"
X-BeenThere: cypherpunks@cpunks.org
X-Mailman-Version: 2.1.18
Precedence: list
List-Id: The Cypherpunks Mailing List <cypherpunks.cpunks.org>
List-Unsubscribe: <https://cpunks.org/mailman/options/cypherpunks>,
 <mailto:cypherpunks-request@cpunks.org?subject=unsubscribe>
List-Archive: <http://cpunks.org/pipermail/cypherpunks/>
List-Post: <mailto:cypherpunks@cpunks.org>
List-Help: <mailto:cypherpunks-request@cpunks.org?subject=help>
List-Subscribe: <https://cpunks.org/mailman/listinfo/cypherpunks>,
 <mailto:cypherpunks-request@cpunks.org?subject=subscribe>
Errors-To: cypherpunks-bounces@cpunks.org
Sender: "cypherpunks" <cypherpunks-bounces@cpunks.org>
From: Markus Ottela <oottela@cs.helsinki.fi>
X-Gspam-Loop: antiproton.jfet.org
Status: O
Content-Length: 13703
Lines: 322

This is a multi-part message in MIME format.
--------------010600090308030308000402
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: 7bit

 From the PoW of Stef's seven rules of thumb to detect snake oil:

*1. Not free software *
https://github.com/irungentoo/toxcore/commit/dcc3921682c8bededfac7d76f4976fd56b051c72
"/Licenced the code under the GPL for now./" (Free software? Good. But, 
"for now" ? Is it going to change?)

*2. Runs in a browser *
No.

*3. Runs on a smartphone *
https://wiki.tox.im/index.php/Multiple_Devices
Has been suggested but not yet implemented.

*4. The user doesn't generate, or exclusively own the private encryption 
keys*
The user is in control, yet the source of randomness and crypto 
implementation are
  not explained properly. The wiki talks about public keys and PFS 
without explaining
the relation between the two.
https://github.com/irungentoo/toxcore/blob/master/docs/updates/Crypto.md

*5. There is no threat model*
"/With the rise of government monitoring programs/" implies it's 
designed to be secure against state surveillance.
"Tox does not cloak IP addresses when communicating with other users"
In disclaimer it is also just stated that
"/Tox prevents message contents from being read or altered by third 
parties, or anyone else other than the intended recipient/", yet it 
doesn't even bother to evaluate the system against HSAs or MSAs.

Instead, the threat model seems to revolve around developer anonymity 
(https://wiki.tox.im/DevAnonymity). "/Potential harassment by the 
government and trolls/" seems to include people pointing out issues with 
the software as well.

*6. Uses marketing-terminology like "cyber", "military-grade"*
It doesn't, although it does say "/leading-class encryption/", and the 
logo is yet another unnecessary lock.


*7. Neglects general sad state of host security *
This. The developers think it is obvious for every user, that if the 
endpoint device is compromised, there is no security. This is horrible 
since average computer user is still mainly occupied with thoughts "I 
need a firewall" or "I might get a virus" -- not "The government might 
exploit unpatched OS or exploit a 0-day" or "The company behind my 
proprietary OS might be issued a subpoena to include a backdoor". It's 
not the job of Tox developers to patch OS, but it's their job to warn 
users there are attack vectors the developers are not in control of. 
They have refused to do so, which limits the users ability to make 
informed choices depending on their threat model.

----

For some time I've wanted to evaluate TFC from these perspectives as well:
*
1. Not free software *
It is, and it will always be.

*2. Runs in a browser
*It doesn't, and never will.

*3. Runs on a smartphone
*Only the handler of encrypted messages might in future run on 
smartphone (or proprietary OS), the TCB's never will.

*4. The user doesn't generate, or exclusively own the private encryption 
keys
*The user does, and the user is also in control of the circuit that 
generates the encryption keys.

*5. There is no threat model
*The whitepaper has a five-page dissection about different attack 
vectors, what TFC is secure against and what it is not.

*6. Uses marketing-terminology like "cyber", "military-grade"*
It never has and it never will.
*
7. Neglects general sad state of host security*
This was the starting point. Key-exfiltration-wise, it is immune against 
post exploitation of TCB-modules.


On 03.02.2015 18:13, rysiek wrote:
> Yo,
>
> don't you die on me!
>
> Lately I started testing Tox, it's actually usable, voice and video, and file
> transfers work, it looks neat. Question is (to quote Tolkien, whom I'm sure we
> all love and cherish):
> "Is it secret? Is it safe?"
>
> So we have this:
>
> Dnia sobota, 5 lipca 2014 22:36:50 stef pisze:
>> afaics there's a traffic analysis weakness in all messages, it discloses
>> both public keys of the peers in public:
>> https://github.com/irungentoo/toxcore/blob/master/docs/updates/Crypto.md#cry
>> pto-request-packets
> We also have a brave soul (not me) that attemted writing proper protocol
> documentation for Tox, and started diving into the code. The docs seem
> lacking, the only things we've been able to find are:
>   https://github.com/irungentoo/toxcore/tree/master/docs
>   https://jenkins.libtoxcore.so/job/Technical_Report/lastSuccessfulBuild/artifact/tox.pdf/
>
> Not *that* helpful, but look at the Crypto section in the PDF:
>
> - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
> Tox uses crypto_box() from the NaCl crypto library for all the cryptography
> in Tox. Unless otherwise noted, all keys refer to keys generated with
> crypto_box_keypair(), all encryption is done with crypto_box() and all
> decryption
> with crypto_box_open(). For performance purposes the functions to
> precompute the shared secret and encrypt and decrypt messages with it are
> used extensively in Tox; however, this is not relevant to this document.
> The function crypto_box() provides fast public-key authenticated encryption.
> For exactly how it works read the NaCl docs.
> - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
>
> Hmmm...
>
> So, the brave RFC-writing soul got some questions. Maybe somebody here has
> access to some answers? Questions being:
>
>   - does the transport layer have encryption? (does the middle layer do that
> all or...?)
>   - where is the documentation of the cryptography?
>   - is there any hmac done at all?
>   - what is the tox id for a seed with all 0?
>   - how does the tox implementation handle different byte alignment?
>   - how does the tox implementation handle different byte endiness?
>   - how well stressed is the tox implementation? benchmarks?
>   - where is the rest of the documentation?
>   - where can I find a full view of how tox works from bottom to top?
>
> Anybody?
>


--------------010600090308030308000402
Content-Type: text/html; charset=utf-8
Content-Transfer-Encoding: 8bit

<html>
  <head>
    <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
  </head>
  <body text="#000000" bgcolor="#FFFFFF">
    From the PoW of Stef's seven rules of thumb to detect snake oil:<br>
    <br>
    <b>1. Not free software
    </b><br>
<a class="moz-txt-link-freetext" href="https://github.com/irungentoo/toxcore/commit/dcc3921682c8bededfac7d76f4976fd56b051c72">https://github.com/irungentoo/toxcore/commit/dcc3921682c8bededfac7d76f4976fd56b051c72</a><br>
    "<i>Licenced the code under the GPL for now.</i>" (Free software?
    Good. But, "for now" ? Is it going to change?)<br>
    <br>
    <b>2. Runs in a browser
    </b><br>
    No.<br>
    <br>
    <b>3. Runs on a smartphone
    </b><br>
    <a class="moz-txt-link-freetext" href="https://wiki.tox.im/index.php/Multiple_Devices">https://wiki.tox.im/index.php/Multiple_Devices</a><br>
    Has been suggested but not yet implemented. <br>
    <br>
    <b>
      4. The user doesn't generate, or exclusively own the private
      encryption keys</b><br>
    The user is in control, yet the source of randomness and crypto
    implementation are<br>
     not explained properly. The wiki talks about public keys and PFS
    without explaining<br>
    the relation between the two.<br>
<a class="moz-txt-link-freetext" href="https://github.com/irungentoo/toxcore/blob/master/docs/updates/Crypto.md">https://github.com/irungentoo/toxcore/blob/master/docs/updates/Crypto.md</a><br>
    <br>
    <b>5. There is no threat model</b><br>
    "<i>With the rise of government monitoring programs</i>" implies
    it's designed to be secure against state surveillance.<br>
    "Tox does not cloak IP addresses when communicating with other
    users"<br>
    In disclaimer it is also just stated that<br>
    "<i>Tox prevents message contents from being read or altered by
      third parties, or anyone else other than the intended recipient</i>",
    yet it doesn't even bother to evaluate the system against HSAs or
    MSAs.<br>
    <br>
    Instead, the threat model seems to revolve around developer
    anonymity (<a class="moz-txt-link-freetext" href="https://wiki.tox.im/DevAnonymity">https://wiki.tox.im/DevAnonymity</a>). "<i>Potential
      harassment by the government and trolls</i>" seems to include
    people pointing out issues with the software as well. <br>
    <br>
    <b>6. Uses marketing-terminology like "cyber", "military-grade"</b><br>
    It doesn't, although it does say "<span class="text bold"><i>leading-class
        encryption</i>"</span>, and the logo is yet another unnecessary
    lock.<br>
    <br>
    <br>
    <b>7. Neglects general sad state of host security
    </b><br>
    This. The developers think it is obvious for every user, that if the
    endpoint device is compromised, there is no security. This is
    horrible since average computer user is still mainly occupied with
    thoughts "I need a firewall" or "I might get a virus" -- not "The
    government might exploit unpatched OS or exploit a 0-day" or "The
    company behind my proprietary OS might be issued a subpoena to
    include a backdoor". It's not the job of Tox developers to patch OS,
    but it's their job to warn users there are attack vectors the
    developers are not in control of. They have refused to do so, which
    limits the users ability to make informed choices depending on their
    threat model.<br>
    <br>
    ----<br>
    <br>
    For some time I've wanted to evaluate TFC from these perspectives as
    well:<br>
    <b><br>
      1. Not free software
    </b><br>
    It is, and it will always be.<br>
    <br>
    <b>2. Runs in a browser<br>
    </b>It doesn't, and never will.<br>
    <br>
    <b>3. Runs on a smartphone<br>
    </b>Only the handler of encrypted messages might in future run on
    smartphone (or proprietary OS), the TCB's never will.<br>
    <br>
    <b>
      4. The user doesn't generate, or exclusively own the private
      encryption keys<br>
    </b>The user does, and the user is also in control of the circuit
    that generates the encryption keys.<br>
    <br>
    <b>5. There is no threat model<br>
    </b>The whitepaper has a five-page dissection about different attack
    vectors, what TFC is secure against and what it is not.<br>
    <br>
    <b>6. Uses marketing-terminology like "cyber", "military-grade"</b><br>
    It never has and it never will.<br>
    <b><br>
      7. Neglects general sad state of host security</b><br>
    This was the starting point. Key-exfiltration-wise, it is immune
    against post exploitation of TCB-modules.<br>
    <br>
    <br>
    <div class="moz-cite-prefix">On 03.02.2015 18:13, rysiek wrote:<br>
    </div>
    <blockquote cite="mid:2906430.aKg3HFcaSO@lapuntu" type="cite">
      <pre wrap="">Yo,

don't you die on me!

Lately I started testing Tox, it's actually usable, voice and video, and file 
transfers work, it looks neat. Question is (to quote Tolkien, whom I'm sure we 
all love and cherish):
"Is it secret? Is it safe?"

So we have this:

Dnia sobota, 5 lipca 2014 22:36:50 stef pisze:
</pre>
      <blockquote type="cite">
        <pre wrap="">afaics there's a traffic analysis weakness in all messages, it discloses
both public keys of the peers in public:
<a class="moz-txt-link-freetext" href="https://github.com/irungentoo/toxcore/blob/master/docs/updates/Crypto.md#cry">https://github.com/irungentoo/toxcore/blob/master/docs/updates/Crypto.md#cry</a>
pto-request-packets
</pre>
      </blockquote>
      <pre wrap="">
We also have a brave soul (not me) that attemted writing proper protocol 
documentation for Tox, and started diving into the code. The docs seem 
lacking, the only things we've been able to find are:
 <a class="moz-txt-link-freetext" href="https://github.com/irungentoo/toxcore/tree/master/docs">https://github.com/irungentoo/toxcore/tree/master/docs</a>
 <a class="moz-txt-link-freetext" href="https://jenkins.libtoxcore.so/job/Technical_Report/lastSuccessfulBuild/artifact/tox.pdf/">https://jenkins.libtoxcore.so/job/Technical_Report/lastSuccessfulBuild/artifact/tox.pdf/</a>

Not *that* helpful, but look at the Crypto section in the PDF:

- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
Tox uses crypto_box() from the NaCl crypto library for all the cryptography
in Tox. Unless otherwise noted, all keys refer to keys generated with
crypto_box_keypair(), all encryption is done with crypto_box() and all 
decryption
with crypto_box_open(). For performance purposes the functions to
precompute the shared secret and encrypt and decrypt messages with it are
used extensively in Tox; however, this is not relevant to this document.
The function crypto_box() provides fast public-key authenticated encryption.
For exactly how it works read the NaCl docs.
- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -

Hmmm...

So, the brave RFC-writing soul got some questions. Maybe somebody here has 
access to some answers? Questions being:

 - does the transport layer have encryption? (does the middle layer do that 
all or...?)
 - where is the documentation of the cryptography?
 - is there any hmac done at all?
 - what is the tox id for a seed with all 0?
 - how does the tox implementation handle different byte alignment?
 - how does the tox implementation handle different byte endiness?
 - how well stressed is the tox implementation? benchmarks?
 - where is the rest of the documentation? 
 - where can I find a full view of how tox works from bottom to top?

Anybody?

</pre>
    </blockquote>
    <br>
  </body>
</html>

--------------010600090308030308000402--

