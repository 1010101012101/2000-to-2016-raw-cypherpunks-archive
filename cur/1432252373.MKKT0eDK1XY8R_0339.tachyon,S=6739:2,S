From rswatjfet.org+caf_=rsw=jfet.org@gmail.com  Thu Feb 19 20:28:02 2015
Return-Path: <rswatjfet.org+caf_=rsw=jfet.org@gmail.com>
Received: from mail-pa0-f48.google.com (mail-pa0-f48.google.com [209.85.220.48])
	by antiproton.jfet.org (8.14.4/8.14.4/Debian-4.1) with ESMTP id t1K1S1Wi008151
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=NOT)
	for <rsw@jfet.org>; Thu, 19 Feb 2015 20:28:02 -0500
Authentication-Results: antiproton.jfet.org; dkim=pass
	reason="2048-bit key; unprotected key"
	header.d=gmail.com header.i=@gmail.com header.b=gGOYphn+;
	dkim-adsp=pass; dkim-atps=neutral
Received: by pabkx10 with SMTP id kx10so3949729pab.13
        for <rsw@jfet.org>; Thu, 19 Feb 2015 17:27:56 -0800 (PST)
X-Received: by 10.67.30.105 with SMTP id kd9mr12029584pad.131.1424395676042;
        Thu, 19 Feb 2015 17:27:56 -0800 (PST)
X-Forwarded-To: rsw@jfet.org
X-Forwarded-For: rswatjfet.org@gmail.com rsw@jfet.org
Delivered-To: rswatjfet.org@gmail.com
Received: by 10.70.127.72 with SMTP id ne8csp798394pdb;
        Thu, 19 Feb 2015 17:27:55 -0800 (PST)
X-Received: by 10.70.65.105 with SMTP id w9mr8949580pds.129.1424395675052;
        Thu, 19 Feb 2015 17:27:55 -0800 (PST)
Received: from localhost (antiproton.jfet.org. [209.141.47.85])
        by mx.google.com with ESMTPS id kw9si2958427pab.126.2015.02.19.17.27.54
        for <rswATjfet.org@gmail.com>
        (version=TLSv1.2 cipher=ECDHE-RSA-AES128-GCM-SHA256 bits=128/128);
        Thu, 19 Feb 2015 17:27:54 -0800 (PST)
Received-SPF: neutral (google.com: 209.141.47.85 is neither permitted nor denied by domain of rsw+cypherpunks-bounces=cpunks.org@gloop.phonon.net) client-ip=209.141.47.85;
Authentication-Results: mx.google.com;
       spf=neutral (google.com: 209.141.47.85 is neither permitted nor denied by domain of rsw+cypherpunks-bounces=cpunks.org@gloop.phonon.net) smtp.mail=rsw+cypherpunks-bounces=cpunks.org@gloop.phonon.net;
       dkim=pass header.i=@gmail.com;
       dmarc=pass (p=NONE dis=NONE) header.from=gmail.com
Received: from antiproton.jfet.org (localhost.localdomain [127.0.0.1])
	by antiproton.jfet.org (8.14.4/8.14.4/Debian-4.1) with ESMTP id t1K1R5VT008118;
	Thu, 19 Feb 2015 20:27:10 -0500
Received: from mail-pd0-f170.google.com (mail-pd0-f170.google.com
 [209.85.192.170])
 by antiproton.jfet.org (8.14.4/8.14.4/Debian-4.1) with ESMTP id t1K1R1Ho008112
 (version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=NOT)
 for <cypherpunks@cpunks.org>; Thu, 19 Feb 2015 20:27:03 -0500
Received: by pdjz10 with SMTP id z10so3983544pdj.0
 for <cypherpunks@cpunks.org>; Thu, 19 Feb 2015 17:26:55 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=gmail.com; s=20120113;
 h=message-id:date:from:user-agent:mime-version:to:subject:references
 :in-reply-to:content-type:content-transfer-encoding;
 bh=bh+4TM7HOXhTSy6+8byjznTHbl72ffYLaLfFzbWDJMw=;
 b=gGOYphn+LrQbWVP97kN1X4fwoNNNcwMeCF6cq6nRhjfGzmaNxOAXEBdOZqa8WusqhJ
 XdqAZrrO98p8yY3crIJVbc0p/5U7+h0RJoB1Gr+BBNKqsvfGyy0yIbRRX8/XaRbCKgL+
 7tuJVvvP2VavdBNkoPKlkdJmSFLNnO/Hl83ya31s9C/A7TzmY5N4RyjunNtIQK5EEIdD
 k8HolLVZ1LivTcqKwsl2kN7faTSwaBceLzFElmASpch4DdWHwmEn7v/jHlDb6qYh/Bba
 vYryuRpqtPE5zwrUXHln7kYRjrG3kqYXVSSpAMupNy2uxAL1R3hJaOi/eS9hU534G521
 7i1Q==
X-Received: by 10.68.135.37 with SMTP id pp5mr12173376pbb.105.1424395615411;
 Thu, 19 Feb 2015 17:26:55 -0800 (PST)
Received: from [192.168.254.42] ([50.125.164.216])
 by mx.google.com with ESMTPSA id qc8sm25014451pdb.86.2015.02.19.17.26.53
 for <cypherpunks@cpunks.org>
 (version=TLSv1.2 cipher=ECDHE-RSA-AES128-GCM-SHA256 bits=128/128);
 Thu, 19 Feb 2015 17:26:54 -0800 (PST)
Message-ID: <54E68D5C.7030806@gmail.com>
Date: Thu, 19 Feb 2015 17:26:52 -0800
User-Agent: Mozilla/5.0 (X11; Linux x86_64;
 rv:31.0) Gecko/20100101 Thunderbird/31.4.0
MIME-Version: 1.0
To: cypherpunks@cpunks.org
Subject: Re: [Cryptography] trojans in the firmware
References: <E1YNSQU-0004pW-Oh@elasmtp-kukur.atl.sa.earthlink.net>
 <E3B30770-BB81-47F1-895D-14CF7FCFC0BE@lrw.com> <54E2B04C.9080707@av8n.com>
 <E1YNuOT-0004uN-CV@elasmtp-mealy.atl.sa.earthlink.net>
 <54E436FB.9000709@deadhat.com>
 <CAAMy4USCzQDO=k3yhZ_LVb4ivz4k5qTCasm3KCen+y1yi8oa+w@mail.gmail.com>
 <CAD2Ti29bD6f7tTq=FgGQDXD43C+zTW0fOWYrbCeTCBmiu0bBqA@mail.gmail.com>
 <E1YOGNA-0004BG-UT@elasmtp-banded.atl.sa.earthlink.net>
 <CAD2Ti2-TTAAUjJsAfLvkDs_tjUKizyGOYATgddpLQvoYZYTFgQ@mail.gmail.com>
 <54E58DF6.2020802@riseup.net>
 <CAD2Ti2_T0P=vw11ipZHBHKwbkM7uP4xdtkBZMNVftLwPK5gXtA@mail.gmail.com>
 <54E6815F.1050402@riseup.net>
In-Reply-To: <54E6815F.1050402@riseup.net>
Content-Type: text/plain; charset=utf-8
Content-Transfer-Encoding: 7bit
X-BeenThere: cypherpunks@cpunks.org
X-Mailman-Version: 2.1.18
Precedence: list
List-Id: The Cypherpunks Mailing List <cypherpunks.cpunks.org>
List-Unsubscribe: <https://cpunks.org/mailman/options/cypherpunks>,
 <mailto:cypherpunks-request@cpunks.org?subject=unsubscribe>
List-Archive: <http://cpunks.org/pipermail/cypherpunks/>
List-Post: <mailto:cypherpunks@cpunks.org>
List-Help: <mailto:cypherpunks-request@cpunks.org?subject=help>
List-Subscribe: <https://cpunks.org/mailman/listinfo/cypherpunks>,
 <mailto:cypherpunks-request@cpunks.org?subject=subscribe>
Errors-To: cypherpunks-bounces@cpunks.org
Sender: "cypherpunks" <cypherpunks-bounces@cpunks.org>
From: Blibbet <blibbet@gmail.com>
X-Gspam-Loop: antiproton.jfet.org
Status: O
Content-Length: 1364
Lines: 30

> How would I test that? I suppose that I could setup a VM to boot from an
> HDD, and then see if I can flash the HDD's firmware.

If this firmware trojan is EFI-based:

For PCI-based devices, use an Intel Tunnel Mountain box, an EFI dev box.
You can install a debug version of the firmware with symbols or
full-source level debug info, and debug it with a second machine using
GDB or Windbg.
http://tunnelmountain.net/

For USB-based devices, use an Intel Minnowboard MAX, a low-end dev board
for 'hobbiests'/'hackers' for Yocto and UEFI. Much cheaper than the
Tunnel Mtn box.
http://www.minnowboard.org/

Consider trying to use QEMU to test a virtual drivers for native
passthru. QEMU has the best diagnostic options for UEFI, it is the UEFI
Forum's main virtualization option for EFI dev. You can build the same
kind of debug firmware image for QEMU (called OVMF) as with live box.
VirtualBox has some EFI support, especially when you build it with
custom flags and set some environment variables. But AFAIK, VirtualBox's
EFI support is less powerful than QEMUs.
http://www.tianocore.org/ovmf/

If malware vendor provided ARM OpROMs in addition to Intel ones, use one
of Linaro's target ARM dev boards. They have a fork of TianoCore EFI for
each of these boards, and you can use that OVMF with QEMU as well.
https://wiki.linaro.org/LEG/Engineering/Kernel/UEFI


