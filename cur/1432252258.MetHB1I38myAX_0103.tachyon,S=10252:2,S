From rswatjfet.org+caf_=rsw=jfet.org@gmail.com  Sat Sep 27 21:59:03 2014
Return-Path: <rswatjfet.org+caf_=rsw=jfet.org@gmail.com>
Received: from mail-pa0-f49.google.com (mail-pa0-f49.google.com [209.85.220.49])
	by antiproton.jfet.org (8.14.4/8.14.4/Debian-4.1) with ESMTP id s8S1x2fD028939
	(version=TLSv1/SSLv3 cipher=RC4-SHA bits=128 verify=NOT)
	for <rsw@jfet.org>; Sat, 27 Sep 2014 21:59:03 -0400
Received: by mail-pa0-f49.google.com with SMTP id lf10so15713257pab.36
        for <rsw@jfet.org>; Sat, 27 Sep 2014 18:58:56 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-original-authentication-results:delivered-to:date:to:subject
         :message-id:references:mime-version:content-type:content-disposition
         :content-transfer-encoding:in-reply-to:user-agent:cc:precedence
         :list-id:list-unsubscribe:list-archive:list-post:list-help
         :list-subscribe:errors-to:sender:from;
        bh=4Uog5L7ZyD9j3P4MXyhYUieAtFcJQxW8Tng46OqxaNw=;
        b=LRfeMlQdTR1SNfjUdGmyLwenIpNsXxjRr8C5a0Pq8XVpBmaHFMtC+SAByFC/lmUJpR
         y7QbpCFaOcvl/ANqtWnRzm2zeVL12DA6kjCNM3SUOXq9aLw0zGanzhoBPWFMomGXKVb9
         3fkOlC7KOaFkh+1mjJtVpkiA+QF1OYF4eXX37luAv4Bt8fY84SiInJglsCe3+mLTO0D3
         o2FsRmgjFjMWD6FloXAsLIrme0SQ+mdeRtIKWHCv5sPoe8pEXiXLiYkrgHTTNpTF7dDN
         gt2rxIcNZlKNRlLY5xNykUlhLexH2J0a4d3EtWvJRgP80jGXf24yvg4pSmKacyOFRkHl
         LCgw==
X-Original-Authentication-Results: mx.google.com;       spf=neutral (google.com: 209.141.47.85 is neither permitted nor denied by domain of rsw+cypherpunks-bounces=cpunks.org@gloop.phonon.net) smtp.mail=rsw+cypherpunks-bounces=cpunks.org@gloop.phonon.net
X-Received: by 10.66.160.65 with SMTP id xi1mr45694099pab.123.1411869535992;
        Sat, 27 Sep 2014 18:58:55 -0700 (PDT)
X-Forwarded-To: rsw@jfet.org
X-Forwarded-For: rswatjfet.org@gmail.com rsw@jfet.org
Delivered-To: rswatjfet.org@gmail.com
Received: by 10.70.92.9 with SMTP id ci9csp6671pdb;
        Sat, 27 Sep 2014 18:58:55 -0700 (PDT)
X-Received: by 10.68.179.66 with SMTP id de2mr46611326pbc.31.1411869535002;
        Sat, 27 Sep 2014 18:58:55 -0700 (PDT)
Received: from localhost (antiproton.jfet.org. [209.141.47.85])
        by mx.google.com with ESMTPS id tk10si16348351pac.134.2014.09.27.18.58.52
        for <rswATjfet.org@gmail.com>
        (version=TLSv1.2 cipher=RC4-SHA bits=128/128);
        Sat, 27 Sep 2014 18:58:52 -0700 (PDT)
Received-SPF: neutral (google.com: 209.141.47.85 is neither permitted nor denied by domain of rsw+cypherpunks-bounces=cpunks.org@gloop.phonon.net) client-ip=209.141.47.85;
Authentication-Results: mx.google.com;
       spf=neutral (google.com: 209.141.47.85 is neither permitted nor denied by domain of rsw+cypherpunks-bounces=cpunks.org@gloop.phonon.net) smtp.mail=rsw+cypherpunks-bounces=cpunks.org@gloop.phonon.net
Received: from antiproton.jfet.org (localhost.localdomain [127.0.0.1])
	by antiproton.jfet.org (8.14.4/8.14.4/Debian-4.1) with ESMTP id s8S1vMRs028917;
	Sat, 27 Sep 2014 21:57:30 -0400
Received: from nl.grid.coop (nl.grid.coop [50.7.166.116])
 by antiproton.jfet.org (8.14.4/8.14.4/Debian-4.1) with ESMTP id s8S1vIfM028913
 for <cypherpunks@cpunks.org>; Sat, 27 Sep 2014 21:57:19 -0400
Received: from localhost (localhost [127.0.0.1]) (uid 1000)
 by nl.grid.coop with local; Sat, 27 Sep 2014 20:57:13 -0500
 id 00000000000613CD.0000000054276AF9.00001098
Date: Sat, 27 Sep 2014 20:57:13 -0500
To: Travis Biehn <tbiehn@gmail.com>
Subject: Re: bashing your head against nation-state social engineering
Message-ID: <20140928015713.GD1755@nl.grid.coop>
References: <20140927160304.GC1755@nl.grid.coop>
 <CAHWD2rKUxNKtXgQ8VtvW9_L4XcXKxrRXaCVF+fZiH9_o2jE3Ug@mail.gmail.com>
 <CAKtE3zcZ9LuBKvJnFm_RJ3te=MotchXXDioJa17291uHUvFJFg@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Disposition: inline
Content-Transfer-Encoding: 8bit
In-Reply-To: <CAKtE3zcZ9LuBKvJnFm_RJ3te=MotchXXDioJa17291uHUvFJFg@mail.gmail.com>
User-Agent: Mutt/1.5.21 (2010-09-15)
Cc: "cypherpunks@cpunks.org" <cypherpunks@cpunks.org>
X-BeenThere: cypherpunks@cpunks.org
X-Mailman-Version: 2.1.16
Precedence: list
List-Id: The Cypherpunks Mailing List <cypherpunks.cpunks.org>
List-Unsubscribe: <https://cpunks.org/mailman/options/cypherpunks>,
 <mailto:cypherpunks-request@cpunks.org?subject=unsubscribe>
List-Archive: <http://cpunks.org/pipermail/cypherpunks/>
List-Post: <mailto:cypherpunks@cpunks.org>
List-Help: <mailto:cypherpunks-request@cpunks.org?subject=help>
List-Subscribe: <https://cpunks.org/mailman/listinfo/cypherpunks>,
 <mailto:cypherpunks-request@cpunks.org?subject=subscribe>
Errors-To: cypherpunks-bounces@cpunks.org
Sender: "cypherpunks" <cypherpunks-bounces@cpunks.org>
From: Troy Benjegerdes <hozer@hozed.org>
X-Gspam-Loop: antiproton.jfet.org
Status: O
Content-Length: 5384
Lines: 106

So every once in awhile I have fits of plausible paranoia, which lead me to
second guess the motives of everyone arguing why it's 'so hard' to simplify
things by doing something like removing bash from debian.

The fastest way for me to remove potential vulnerabilities in bash environment
handling is remove the code, and the side effect is this, as a policy will
hopefully make for more standard and maintainable code, rather than stuff 
that happens to rely on the specific implementation of a shell.

So yeah, it's probably unlikely this was intentionally created, however I
think it's a good bet it was intentionally exploited at least once, and
there is plenty of motivation for some social engineering to try to keep
it exploitable.

My hope, however, is that inter-departmental competition inside TLA agencies
and within nation-states is sufficient so that at least one security head 
who has similiar plausibly paranoid delusions, and decides to fund OpenBSD 
and/or bash-free debian as a short term, and some of the more interesting
security by isolation stuff on the horizon.


On Sat, Sep 27, 2014 at 02:48:24PM -0400, Travis Biehn wrote:
> I'm partial to Joanna Rutkowska's statement that "Security by Isolation" is
> the best course followed for -users- of software. [in addition to all the
> patching and whatever.]
> 
> Developers of that software, ultimately, are responsible for securing their
> stuff. As an aside - separating your complex system into multiple trust
> zones, from a development standpoint, is de-rigueur for secure design.
> 
> Security heads have long been decrying cgi-bin. Most of the reason is that
> the threat surface is insane - for binaries you have user input that's not
> running in some sort of VM [php,perl,ruby,node.js, etc] and existing in
> memory entangled with executable instructions.
> 
> Injection attacks, are, of course old-hat. The daemons could have done some
> hand-holding in this respect before passing off headers to ENV variables.
> 
> The issue is that 'restricted chars' wasn't defined by a standard interface
> between daemon and cgi-bin script. The called function has a completely
> arbitrary set of restricted chars.
> /bin/bash, of course, isn't written to withstand env attacks - since the
> calling user controls the env / and bash is executed under that user's
> privileges.
> So it is, of a matter of course, inevitable to find vulnerability there.
> With one process isolating the client from the env, modifying the env as a
> result of the user's whims and then passing off to a sub-process that
> trusts the env implicitly.
> 
> It is very unlikely that any TLA 'created' this vulnerability. The notion
> is entirely incredible. The existence of vulnerability in such a design is
> immediately obvious from anyone who takes more than a cursory look at it.
> That isn't to say that this specific attack was trivial to identify - that
> is to say from an architecture standpoint it should be evident that the
> handoff between httpd and cgi-bin is a location of extreme vulnerability.
> 
> On a related note: Mirage OS looks like it's on a promising tack:
> http://www.xenproject.org/developers/teams/mirage-os.html
> 
> -Travis
> 
> On Sat, Sep 27, 2014 at 12:49 PM, Lodewijk andré de la porte <l@odewijk.nl>
> wrote:
> 
> > Know what you code, and what you run. Don't be fooled by words and shapes,
> > code does what code does, that is all.
> >
> > We seriously need a way to detach code from mental models to expose hidden
> > features. Basically, all computer law is rubbish because everything you run
> > on your computer, exploits and all, is something you run by choice. But
> > there's no way you could validate the sheer bulk of code. If you want to
> > really solve security flaws it'll involve somehow validating the
> > possibilities of the code run.
> >
> > It's a discipline that touches on visualization, automated testing and
> > simplification. Simplification meaning, reducing possible states and
> > "execution paths". And just making code easier to comprehend.
> >
> > The problem is that there's either no market for "truly secure" computing,
> > or there's just nobody filling the gap. Banks with their Cobol are laughed
> > at, mostly, and accused of lacking innovation. They do lack innovation in
> > the technical field. And Cobol is definitely not an ideal language. But
> > "truly secure" is worth a lot to them. L4 validated is a step in the right
> > direction, but catches a lot of wind saying it's still imperfect and
> > therefore worthless.
> >
> > I'm utterly bored by code review. Maybe it'd be better if there were some
> > nicer tools to help out. I'm really sure someone has great recommendations
> > regarding this. (That don't even require Cobol :)
> >
> 
> 
> 
> -- 
> Twitter <https://twitter.com/tbiehn> | LinkedIn
> <http://www.linkedin.com/in/travisbiehn> | GitHub <http://github.com/tbiehn>
> | TravisBiehn.com <http://www.travisbiehn.com> | Google Plus
> <https://plus.google.com/+TravisBiehn>

-- 
----------------------------------------------------------------------------
Troy Benjegerdes                 'da hozer'                  hozer@hozed.org
7 elements      earth::water::air::fire::mind::spirit::soul        grid.coop

      Never pick a fight with someone who buys ink by the barrel,
         nor try buy a hacker who makes money by the megahash

