From rswatjfet.org+caf_=rsw=jfet.org@gmail.com  Wed Feb  4 13:46:57 2015
Return-Path: <rswatjfet.org+caf_=rsw=jfet.org@gmail.com>
Received: from mail-pd0-f173.google.com (mail-pd0-f173.google.com [209.85.192.173])
	by antiproton.jfet.org (8.14.4/8.14.4/Debian-4.1) with ESMTP id t14IkuY7025740
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=NOT)
	for <rsw@jfet.org>; Wed, 4 Feb 2015 13:46:57 -0500
Authentication-Results: antiproton.jfet.org; dkim=pass
	reason="1024-bit key; unprotected key"
	header.d=cs.helsinki.fi header.i=@cs.helsinki.fi header.b=WY5P7Zzt;
	dkim-adsp=pass; dkim-atps=neutral
Received: by pdiy13 with SMTP id y13so2376609pdi.8
        for <rsw@jfet.org>; Wed, 04 Feb 2015 10:46:51 -0800 (PST)
X-Received: by 10.70.102.230 with SMTP id fr6mr32726231pdb.83.1423075610933;
        Wed, 04 Feb 2015 10:46:50 -0800 (PST)
X-Forwarded-To: rsw@jfet.org
X-Forwarded-For: rswatjfet.org@gmail.com rsw@jfet.org
Delivered-To: rswatjfet.org@gmail.com
Received: by 10.70.127.72 with SMTP id ne8csp692919pdb;
        Wed, 4 Feb 2015 10:46:50 -0800 (PST)
X-Received: by 10.66.141.234 with SMTP id rr10mr33741284pab.150.1423075609930;
        Wed, 04 Feb 2015 10:46:49 -0800 (PST)
Received: from localhost (antiproton.jfet.org. [209.141.47.85])
        by mx.google.com with ESMTPS id kt6si3225700pbc.47.2015.02.04.10.46.49
        for <rswATjfet.org@gmail.com>
        (version=TLSv1.2 cipher=ECDHE-RSA-AES128-GCM-SHA256 bits=128/128);
        Wed, 04 Feb 2015 10:46:49 -0800 (PST)
Received-SPF: neutral (google.com: 209.141.47.85 is neither permitted nor denied by domain of rsw+cypherpunks-bounces=cpunks.org@gloop.phonon.net) client-ip=209.141.47.85;
Authentication-Results: mx.google.com;
       spf=neutral (google.com: 209.141.47.85 is neither permitted nor denied by domain of rsw+cypherpunks-bounces=cpunks.org@gloop.phonon.net) smtp.mail=rsw+cypherpunks-bounces=cpunks.org@gloop.phonon.net;
       dkim=pass header.i=@cs.helsinki.fi;
       dmarc=pass (p=REJECT dis=NONE) header.from=cs.helsinki.fi
Received: from antiproton.jfet.org (localhost.localdomain [127.0.0.1])
	by antiproton.jfet.org (8.14.4/8.14.4/Debian-4.1) with ESMTP id t14IkVo9025720;
	Wed, 4 Feb 2015 13:46:31 -0500
Received: from script.cs.helsinki.fi (script.cs.helsinki.fi [128.214.11.1])
 by antiproton.jfet.org (8.14.4/8.14.4/Debian-4.1) with ESMTP id t14IkOq3025716
 (version=TLSv1/SSLv3 cipher=AES256-GCM-SHA384 bits=256 verify=NOT)
 for <cypherpunks@cpunks.org>; Wed, 4 Feb 2015 13:46:26 -0500
X-DKIM: Courier DKIM Filter v0.50+pk-2014-03-23 mail.cs.helsinki.fi Wed,
 04 Feb 2015 20:46:17 +0200
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=cs.helsinki.fi;
 h=message-id:date:from:mime-version:to:subject:references
 :in-reply-to:content-type:content-transfer-encoding; s=
 dkim20130528; bh=i8Jx4RZo1oOxv95PYD3ERtqqCGuZZx+UQO2NMI8zEE0=; b=
 WY5P7Zzta1dhsVsBdiDlslmQr0IMyxTg/h+p79Oin0OD7IX74nQ3QTwhAKem2vYe
 Asx9nJLmpqG3aTtQJRpOa9TpoSRAFQE0Qg3fofGm3IYNnl3IlHlYzfywQrS5kjnx
 c4RD0aJJQbfF4jtLh0Vi9plG6C3rI9a1s9YnXTQdk1s=
Received: from [128.214.89.198] (dhcp-eduroam-hy-89-198.mobile.helsinki.fi
 [128.214.89.198])
 (AUTH: PLAIN oottela, TLS: TLSv1/SSLv3,128bits,AES128-SHA)
 by mail.cs.helsinki.fi with ESMTPSA; Wed, 04 Feb 2015 20:46:17 +0200
 id 000000000007FE93.0000000054D268F9.00004185
Message-ID: <54D268F8.40701@cs.helsinki.fi>
Date: Wed, 04 Feb 2015 20:46:16 +0200
User-Agent: Mozilla/5.0 (X11; Linux x86_64;
 rv:31.0) Gecko/20100101 Thunderbird/31.4.0
MIME-Version: 1.0
To: cypherpunks@cpunks.org
Subject: Re: What the fark is "TFC"
References: <15658830.G1IiJoRcAd@lapuntu>
 <CA+cU71mYv8iSTRACjpd-hGjXS=PkMAkvpmkcqOF3qmbbApFrXQ@mail.gmail.com>
 <54D1A294.8040504@cs.helsinki.fi> <3919812.q1dzmxQad4@lapuntu>
 <20150204155143.GC6948@ctrlc.hu>
In-Reply-To: <20150204155143.GC6948@ctrlc.hu>
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: 8bit
X-BeenThere: cypherpunks@cpunks.org
X-Mailman-Version: 2.1.18
Precedence: list
List-Id: The Cypherpunks Mailing List <cypherpunks.cpunks.org>
List-Unsubscribe: <https://cpunks.org/mailman/options/cypherpunks>,
 <mailto:cypherpunks-request@cpunks.org?subject=unsubscribe>
List-Archive: <http://cpunks.org/pipermail/cypherpunks/>
List-Post: <mailto:cypherpunks@cpunks.org>
List-Help: <mailto:cypherpunks-request@cpunks.org?subject=help>
List-Subscribe: <https://cpunks.org/mailman/listinfo/cypherpunks>,
 <mailto:cypherpunks-request@cpunks.org?subject=subscribe>
Errors-To: cypherpunks-bounces@cpunks.org
Sender: "cypherpunks" <cypherpunks-bounces@cpunks.org>
From: Markus Ottela <oottela@cs.helsinki.fi>
X-Gspam-Loop: antiproton.jfet.org
Status: O
Content-Length: 2039
Lines: 37

To summarise the general classess of side channels mentioned in Wikipedia:
Power analysis should be tackled with running the TCBs on batteries. I 
introduced the issue of electromagnetic and acoustic leaks but it's a 
very complex issue and I'm not an expert dealing with them. The RxM is 
the only device attacker can introduce faulty data to compute on. 
However, no feedback is available due to the implementation thus unless 
pre-compromised, the hardware should not have back channel. TFC does 
it's best effort to overwrite and verify overwriting after key material 
has been used. Each of these is mentioned in white paper. More work is 
needed to create high-assurance physical/close proximity security but 
again, user is informed about the issues and the main threat is 
automated remote exploitation.

The purpose of Pidgin is to transmit the messages. To simplify, TFC is a 
plugin for Pidgin that automates you doing encryption in a secure 
environment and typing the ciphertext to OTR encrypted Pidgin window 
with your keyboard. It also automates decryption of ciphertexts you 
receive when OTR-plugin of Pidgin decrypts the outer layer of message.

So for TFC the encryption is SSL( OTR( OTP(Message)||MAC ))
and for TFC-CEV you replace OTP(Message)||MAC with 
AES_GCM(Twofish(Salsa20(Keccak(Message)))).

The pages 9 and 10 of whitepaper explains this in more detail. Please 
let me know if there's anything that needs to be clarified.

On 04.02.2015 17:51, stef wrote:
> On Wed, Feb 04, 2015 at 11:58:17AM +0100, rysiek wrote:
>> Dnia Å›roda, 4 lutego 2015 06:39:48 Markus Ottela pisze:
>> http://www.cs.helsinki.fi/u/oottela/tfc.pdf
> i think i have to add an 8th rule: vendor applies rules against own product. ;)
>
> but seriously, the hw design with the diodes is pretty cool, however maybe i
> missed it but i couldnt find much focus on sidechans. also what i don't get is
> why pidgin, if you have the communication end behind the diodes, then what
> exactly does pidgin provide? but i was only skimming the doc.
>

