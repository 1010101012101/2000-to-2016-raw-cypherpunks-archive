Return-path: <cypherpunks-bounces@cpunks.org>
Envelope-to: rsw@positron.jfet.org
Delivery-date: Tue, 16 Aug 2016 17:59:25 -0700
Received: from antiproton.jfet.org ([209.141.47.85])
	by positron.jfet.org with esmtps (TLS1.2:ECDHE_RSA_AES_256_GCM_SHA384:256)
	(Exim 4.87)
	(envelope-from <cypherpunks-bounces@cpunks.org>)
	id 1bZpCW-0007Q3-QM
	for rsw@positron.jfet.org; Tue, 16 Aug 2016 17:59:25 -0700
Received: from antiproton.jfet.org (localhost.localdomain [127.0.0.1])
	by antiproton.jfet.org (8.14.4/8.14.4/Debian-8) with ESMTP id u7H0qxgg000865;
	Tue, 16 Aug 2016 20:52:59 -0400
Authentication-Results: antiproton.jfet.org; dkim=pass
	reason="2048-bit key; unprotected key"
	header.d=gmail.com header.i=@gmail.com header.b=sYsg+4vs;
	dkim-adsp=pass; dkim-atps=neutral
Received: from mail-ua0-f169.google.com (mail-ua0-f169.google.com
 [209.85.217.169])
 by antiproton.jfet.org (8.14.4/8.14.4/Debian-8) with ESMTP id u7H0jN6E000807
 (version=TLSv1/SSLv3 cipher=ECDHE-RSA-AES256-GCM-SHA384 bits=256 verify=NOT)
 for <cypherpunks@cpunks.org>; Tue, 16 Aug 2016 20:45:25 -0400
Received: by mail-ua0-f169.google.com with SMTP id 97so149237315uav.3
 for <cypherpunks@cpunks.org>; Tue, 16 Aug 2016 17:45:25 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=gmail.com; s=20120113;
 h=mime-version:in-reply-to:references:from:date:message-id:subject:to;
 bh=K6B/XEyfIfpbTyMFb+zsFOUrNG2zJjMLc4kEMtPCts0=;
 b=sYsg+4vsKAKJUXc26XoZFrsnMNxNuMxHZ6ufhLQJByge11fjoLAK24dv6wtJ6oLUaV
 dbzasLdyJdSqYiGMXbLm8Fmkd+KvAfGaEb7fia/Wc1zrrUFI58NOLiY+Vp7vtcRx3EbN
 OeFriObtdaFfN8I169lhDYLelP1nZVc/aDhFJf6/10/5QGunOk+O/utysMahvnZXsrBl
 4Cf852b1k1HRBucLxQo14AZUU6ltI+qrzXI7q7Jt2gpVilkDt6DGtoMdUuIXSiLk+05u
 cVqxmjUK7Jw8qDp8CDVFTMhAAbpd5cTaHhszYxJ8Ol0aKR2b2Xa59DAZEUcKGA86HFWp
 2I2w==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20130820;
 h=x-gm-message-state:mime-version:in-reply-to:references:from:date
 :message-id:subject:to;
 bh=K6B/XEyfIfpbTyMFb+zsFOUrNG2zJjMLc4kEMtPCts0=;
 b=GpgtbNv3NOoCd8AFYgdOwwvCu3In/f3pK0mDCLxqi1n+r3Hx264poYW+OCgsYOY7QF
 OyredfwrcGcrYHZC0ke4nFGHtHMjz+82IRI770TdFZRisj7PG5xmX6YB1WthSzBq7rgv
 s9z+u0Sjdg1o+6AgNKTgcLVzd5ro+Shtz6piHVvyFZEvbeJnrJT8+kBnsJZnS1aHpC2I
 VwhnNc2RKy+L/PaqKhMLRsKeSu7z16BeKkLZDB808Vn6YH5lV5IpGrsjhW4Ph5JYUexq
 hobNe+RN1AZN8eLuoG5nuK1NdJchOfHpaysFSRam/X4+mYC2tFwe12e/oG4Q5CG92QzW
 K7Gw==
X-Gm-Message-State: AEkooutK2uLoLoCjULHHUwxeUr6v1nnS9j6y+bQSTh0yql3Q4cCxY3tC79wy+5kObWZVtMg0GBa1s32pOLvL7g==
X-Received: by 10.31.8.213 with SMTP id 204mr9169343vki.33.1471394717238; Tue,
 16 Aug 2016 17:45:17 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.159.33.243 with HTTP; Tue, 16 Aug 2016 17:45:16 -0700 (PDT)
In-Reply-To: <20160816052039.GF27807@x220-a02>
References: <20160816052039.GF27807@x220-a02>
From: grarpamp <grarpamp@gmail.com>
Date: Tue, 16 Aug 2016 20:45:16 -0400
Message-ID: <CAD2Ti2_33QQRZ8NNTgDaTw3JzPhbGpGJwGWoP3V1gUMtQn4Pkw@mail.gmail.com>
Subject: Re: software - multiple version installs (any distro developers here?)
To: cypherpunks@cpunks.org
Content-Type: text/plain; charset=UTF-8
X-BeenThere: cypherpunks@cpunks.org
X-Mailman-Version: 2.1.18
Precedence: list
List-Id: The Cypherpunks Mailing List <cypherpunks.cpunks.org>
List-Unsubscribe: <https://cpunks.org/mailman/options/cypherpunks>,
 <mailto:cypherpunks-request@cpunks.org?subject=unsubscribe>
List-Archive: <http://cpunks.org/pipermail/cypherpunks/>
List-Post: <mailto:cypherpunks@cpunks.org>
List-Help: <mailto:cypherpunks-request@cpunks.org?subject=help>
List-Subscribe: <https://cpunks.org/mailman/listinfo/cypherpunks>,
 <mailto:cypherpunks-request@cpunks.org?subject=subscribe>
Errors-To: cypherpunks-bounces@cpunks.org
Sender: "cypherpunks" <cypherpunks-bounces@cpunks.org>
Lines: 68

On 8/16/16, Zenaan Harkness <zen@freedbms.net> wrote:
> [symlinks, versioning and stuff]

> I'm sure this has been thunked before

Many times, over many decades, by many people... and been done.

Those users and shops have their entire /usr/local or /opt
(bin sbin lib include share doc etc and so on) as nothing but script
managed symlink trees as means of tagging the active default version.
And keep the multiple program-M.m.r versions on disk therein, which
are manually callable as needed for new testing and legacy use.
With scripts to build, install, and symlink it all. Dependencies,
namespace collisions, runtime issues with ld rpath and friends, and
the whims of program authors... all tend to buzzkill many efforts
there.

Github might have something for you.

There are also variant symlinks:
https://www.dragonflybsd.org/cgi/web-man?command=varsym&section=1
http://leaf.dragonflybsd.org/cgi/web-man?command=varsym.conf&section=5
http://leaf.dragonflybsd.org/cgi/web-man?command=varsym&section=2
https://wiki.freebsd.org/200808DevSummit?action=AttachFile&do=view&target=variant-symlinks-for-freebsd.pdf
https://github.com/drq883/varsym
https://lwn.net/Articles/680705/
https://github.com/onslauth/varsymfs

The "FHS" of a base OS, be it Linux or BSD, typically exclusively
reserve /usr/local for their default package manager, and reserve
/opt for site use. Some sites prefer /opt first in PATH once it's
compiled and installed by competant system admin.

Single letter trees for package installs serve no purpose and are
anti human. There's no performance need to turn the fs into a binary
tree (todays kernels and fs can handle flat dirs many times the
needs of any installed package set). Nor need to turn the fs into
a database, that's what package managers are for.

> I'd like to see the libre unix software ecosystem move forward
> on this.

Nobody wants such a symlink mess in the base system, ever.
And things like pivot root, snapshots, portable processes, rolling
release, vm, jail, layered fs, and patchable kernel are all happening.

Leaving just handling /usr/local...

Most people usually don't have need for multiple versions, just a
current version that works. Even packaging just that is hard and a
lot of work by a lot of people. Thus port / package tools naturally
remain rather simple.

Sure there are issues with limited accomodations for versioning /
site in package managers. So see /opt above. Or roll your own distro,
and packager and reach wide adoption with it.

> arcane per distro package incantations

Until then, excepting some tool and port sharing among Linux
and BSD's, things are exactly this, and wishful thunking.


If troubled on Linux, at least look at the BSD's... their hier's
are cleaner and enforced, partly from not going the "distro" model
of random thunkers.

