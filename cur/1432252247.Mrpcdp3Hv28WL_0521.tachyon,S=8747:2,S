From rswatjfet.org+caf_=rsw=jfet.org@gmail.com  Thu Nov  6 00:00:35 2014
Return-Path: <rswatjfet.org+caf_=rsw=jfet.org@gmail.com>
Received: from mail-pd0-f177.google.com (mail-pd0-f177.google.com [209.85.192.177])
	by antiproton.jfet.org (8.14.4/8.14.4/Debian-4.1) with ESMTP id sA650YFb026947
	(version=TLSv1/SSLv3 cipher=RC4-SHA bits=128 verify=NOT)
	for <rsw@jfet.org>; Thu, 6 Nov 2014 00:00:35 -0500
Authentication-Results: antiproton.jfet.org; dkim=fail
	reason="verification failed; unprotected key"
	header.d=gmail.com header.i=@gmail.com header.b=iD6bfQJk;
	dkim-adsp=none (unprotected policy); dkim-atps=neutral
Received: by mail-pd0-f177.google.com with SMTP id v10so398657pde.8
        for <rsw@jfet.org>; Wed, 05 Nov 2014 21:00:28 -0800 (PST)
X-Received: by 10.68.215.100 with SMTP id oh4mr1888361pbc.11.1415250028600;
        Wed, 05 Nov 2014 21:00:28 -0800 (PST)
X-Forwarded-To: rsw@jfet.org
X-Forwarded-For: rswatjfet.org@gmail.com rsw@jfet.org
Delivered-To: rswatjfet.org@gmail.com
Received: by 10.70.135.1 with SMTP id po1csp8477pdb;
        Wed, 5 Nov 2014 21:00:26 -0800 (PST)
X-Received: by 10.66.218.202 with SMTP id pi10mr2116655pac.28.1415250026632;
        Wed, 05 Nov 2014 21:00:26 -0800 (PST)
Received: from localhost (antiproton.jfet.org. [209.141.47.85])
        by mx.google.com with ESMTPS id nu8si4887128pdb.93.2014.11.05.21.00.25
        for <rswATjfet.org@gmail.com>
        (version=TLSv1.2 cipher=RC4-SHA bits=128/128);
        Wed, 05 Nov 2014 21:00:26 -0800 (PST)
Received-SPF: neutral (google.com: 209.141.47.85 is neither permitted nor denied by domain of rsw+cypherpunks-bounces=cpunks.org@gloop.phonon.net) client-ip=209.141.47.85;
Authentication-Results: mx.google.com;
       spf=neutral (google.com: 209.141.47.85 is neither permitted nor denied by domain of rsw+cypherpunks-bounces=cpunks.org@gloop.phonon.net) smtp.mail=rsw+cypherpunks-bounces=cpunks.org@gloop.phonon.net;
       dkim=fail header.i=@gmail.com;
       dmarc=fail (p=NONE dis=NONE) header.from=gmail.com
Received: from antiproton.jfet.org (localhost.localdomain [127.0.0.1])
	by antiproton.jfet.org (8.14.4/8.14.4/Debian-4.1) with ESMTP id sA64wru7026903;
	Wed, 5 Nov 2014 23:59:00 -0500
Received: from mail-vc0-f177.google.com (mail-vc0-f177.google.com
 [209.85.220.177])
 by antiproton.jfet.org (8.14.4/8.14.4/Debian-4.1) with ESMTP id sA64wnuX026899
 (version=TLSv1/SSLv3 cipher=RC4-SHA bits=128 verify=NOT)
 for <cypherpunks@cpunks.org>; Wed, 5 Nov 2014 23:58:51 -0500
Received: by mail-vc0-f177.google.com with SMTP id hq12so145788vcb.22
 for <cypherpunks@cpunks.org>; Wed, 05 Nov 2014 20:58:43 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=gmail.com; s=20120113;
 h=mime-version:in-reply-to:references:date:message-id:subject:from:to
 :cc:content-type;
 bh=N5DCW3fZAD7yNIfB3JU5MRDk0566vXcS9QArM+s0gKA=;
 b=iD6bfQJkkQ+rXwMqhdJEc36j5NRa0SMatxb2Hg2O0iYZvwoAy8dmgYvdHkMsyNtNFW
 YwBmc6pCrT0YiE9cw0+33Xk75sd/maWDeQYJu581KHHtCMWiUoE2Q6TgPwWBWNDrczJb
 S4dhg4amZJ5X++kXD5bhVvvGDxtcDfSRiVRdxivvRbFngDIGupQfkXBD/HjSKc9JmULC
 Gb4c9DSeZvcncVDUsFlVvWi1LLxxY8QC3CNV4evohYxPlZQTUgskrT4Ijoyf7Ckiswjy
 zgDcT0w+VSzQP1EvPAlZTJNuN/1sippWQvA6szSA1fg6GFWYYZWwCoWBzibgpLqlAB81
 FLKQ==
MIME-Version: 1.0
X-Received: by 10.52.12.198 with SMTP id a6mr1121073vdc.4.1415249923245; Wed,
 05 Nov 2014 20:58:43 -0800 (PST)
Received: by 10.221.64.74 with HTTP; Wed, 5 Nov 2014 20:58:43 -0800 (PST)
In-Reply-To: <CA+cU71k8zZQg6Tbyxt_VCtB2Gj=96uxYqnDYgvdMS-t3gTZDyA@mail.gmail.com>
References: <CAD2Ti28BFsedyPC7VBR-Rz8c2_4CAQDnBFopnRHEX45sgqmjtA@mail.gmail.com>
 <CA+cU71kXqh-rcfNZErN0QHJ_L2POCJgm8ibAp2H=S4OFVgz2Rg@mail.gmail.com>
 <545A64A0.8030300@mykolab.com>
 <CA+cU71k8zZQg6Tbyxt_VCtB2Gj=96uxYqnDYgvdMS-t3gTZDyA@mail.gmail.com>
Date: Wed, 5 Nov 2014 23:58:43 -0500
Message-ID: <CAD2Ti2_DwL==uN0V2aUMBgMtv3CYugOJBqpcVDh0HKEjgC0U4w@mail.gmail.com>
Subject: Re: [tor-relays] [tor-talk] Platform diversity in Tor network [was:
 OpenBSD doc/TUNING]
To: tor-relays@lists.torproject.org
Content-Type: text/plain; charset=UTF-8
Cc: cypherpunks@cpunks.org, tor-talk@lists.torproject.org
X-BeenThere: cypherpunks@cpunks.org
X-Mailman-Version: 2.1.18
Precedence: list
List-Id: The Cypherpunks Mailing List <cypherpunks.cpunks.org>
List-Unsubscribe: <https://cpunks.org/mailman/options/cypherpunks>,
 <mailto:cypherpunks-request@cpunks.org?subject=unsubscribe>
List-Archive: <http://cpunks.org/pipermail/cypherpunks/>
List-Post: <mailto:cypherpunks@cpunks.org>
List-Help: <mailto:cypherpunks-request@cpunks.org?subject=help>
List-Subscribe: <https://cpunks.org/mailman/listinfo/cypherpunks>,
 <mailto:cypherpunks-request@cpunks.org?subject=subscribe>
Errors-To: cypherpunks-bounces@cpunks.org
Sender: "cypherpunks" <cypherpunks-bounces@cpunks.org>
From: grarpamp <grarpamp@gmail.com>
X-Gspam-Loop: antiproton.jfet.org
Status: O
Content-Length: 3887
Lines: 85

>> I'd agree simply because Windows presents a much larger attack surface. The
>> amount of code running on a minimal Unix installation plus Tor is a lot less
>> than a Windows system, especially network facing code.
> ...
> Running code, or network accessible code?  Either way I don't see how
> you came to that calculation.  'Minimal' Unix + Tor + SSH restricted
> by SSH Key vs 'Minimal' Windows + Tor + RDP restricted by Client
> Certificate.  I also don't know what you mean by 'minimal' as very few
> ...
> I think a Windows Server, properly configured, is roughly as secure as
> a properly configured Linux Server.
> ...
> I think there have been more bugs that result in RCE on production
> Linux servers running SSH and a webserver in the past 4 years than
> there have been in production Windows servers running RDP and IIS.
> ...
> I think if you're pointing fingers at China and the NSA, you should
> assume they have RCE in both Windows and Linux.
> ...
> I think running relays on Windows Servers is no worse than running
> relays on Linux Servers, and therefore it is good to do, because it
> adds diversity to the network.

Attack surface on a well adminned relay comes down to three things:
- Network stack itself (kernel)
- Daemon software itself (tor + remote admin)
- Their respective use of other kernel/library/shell provided resources.

I might suggest the current proportion of Windows to Linux is
roughly ideal. This is primarily because, all other things set equal
at 'minimal' (= tor + remote admin), good adminning, and good
control of corporate secrets (or moles)... Windows still has one
huge strategic weakness at that point... the magic packet.
It's the whole binary vs. opensource argument. So essentially,
the correct ratio of the two might be the odds you place that
a binary OS has a magic packet. Today's node count shows
73% to opensource platforms. I'd suspect 73% is about where
a lot of analysts might bet on Windows being magical, whether
by/for the NSA, or any other reason or source.

(Remember this...
 https://en.wikipedia.org/wiki/NSAKEY
That was just from running 'strings'. Good luck trolling all of
Windows with a disassembler... a nice fat payoff if you do. And
the number of disassembling vs. opensource auditors is probably
even more heavily skewed. And Windows is 'trusted' by buyers,
nor can you replicate their binaries from any 'source code sharing
agreements'. Then it's Patch Tuesday again... so it could be no
one has or ever will disassemble audit it. So odds end up being
pitched instead. And for many applications, that's good enough.)

The real problem below is the 96% allocation of opensource to
Linux and 4% to Other opensource. That's something that should
be fixed. For these purposes, it doesn't matter which BSD/Other you
pick... once you get the security odds there back towards
say 50:50 Linux:Other, then you can debate userland and relative
security amongst them all you want.

Here's some links to get you started, including two other
main branches of the Unix Kernel family tree at the bottom...

5939 Linux
1591 Windows
 173 FreeBSD http://www.freebsd.org/
  56 Darwin
  44 OpenBSD http://www.openbsd.org/
   7 NetBSD http://netbsd.org/
   6 SunOS
   4 Bitrig https://www.bitrig.org/
   2 GNU/kFreeBSD https://www.debian.org/ports/kfreebsd-gnu/
   2 DragonFly http://www.dragonflybsd.org/
   0 Illumos (OpenSolaris) http://wiki.illumos.org/display/illumos/Distributions
   0 Minix http://www.minix3.org/

Official metrics...
https://metrics.torproject.org/network.html

Someone should really do an analysis of platform vs. exit bandwidth
as well. Anyone?

Also, isn't there some project out there that is counting the historical
number of kernel bugs+severity per OS over time?

[To cpunks to cover all the other volunteer node based networks
out there that could benefit from tuning their platform ratios.]

