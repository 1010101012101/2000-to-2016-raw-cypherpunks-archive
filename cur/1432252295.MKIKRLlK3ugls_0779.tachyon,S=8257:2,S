From rswatjfet.org+caf_=rsw=jfet.org@gmail.com  Tue Jun  3 18:55:40 2014
Return-Path: <rswatjfet.org+caf_=rsw=jfet.org@gmail.com>
Received: from mail-pb0-f41.google.com (mail-pb0-f41.google.com [209.85.160.41])
	by antiproton.jfet.org (8.14.4/8.14.4/Debian-4.1) with ESMTP id s53Mtddb032659
	(version=TLSv1/SSLv3 cipher=RC4-SHA bits=128 verify=NOT)
	for <rsw@jfet.org>; Tue, 3 Jun 2014 18:55:40 -0400
Received: by mail-pb0-f41.google.com with SMTP id uo5so6128037pbc.0
        for <rsw@jfet.org>; Tue, 03 Jun 2014 15:53:23 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-original-authentication-results:delivered-to:date:to:subject
         :message-id:references:mime-version:content-type:content-disposition
         :content-transfer-encoding:in-reply-to:user-agent:cc:precedence
         :list-id:list-unsubscribe:list-archive:list-post:list-help
         :list-subscribe:errors-to:sender:from;
        bh=lp4vncWUKptabkCQjBuYp2PsZvy97pm2YX2GCifQ4p0=;
        b=SokugBgHb8P9EjvBejU+KA4sUqXth8EXHJKrGSoR7NAuX9g3PcUFc/J0o2kNIGg+ZN
         63yiJfeh47X7W6eWHJ+G1LYBiXTI5AiGS/0Mi4RvZT5bJNHZdGsq4B9pGisZ4xXBOr0n
         jxpwLdWSdqkSTX7qmJhcgSRnjY1LRjpssuDWlLMJ1QD6YgimjSqYyf7oxlZgncOjxB37
         ddwf9WLbisWkZo0NtjAGZ8ceKWGUBkWe09ogOHHhXk15UFCgyoGbA9oZ6k02tUWr27M4
         T4ffwYX6E9awfonLA+5Thnp/uiX4uBOHMHthnga6B9Mwb83T0zTDXMpjtzUzRfgnR1hO
         7bJg==
X-Original-Authentication-Results: mx.google.com;       spf=neutral (google.com: 209.141.47.85 is neither permitted nor denied by domain of rsw+cypherpunks-bounces=cpunks.org@gloop.phonon.net) smtp.mail=rsw+cypherpunks-bounces=cpunks.org@gloop.phonon.net
X-Received: by 10.68.133.229 with SMTP id pf5mr56282174pbb.115.1401836002710;
        Tue, 03 Jun 2014 15:53:22 -0700 (PDT)
X-Forwarded-To: rsw@jfet.org
X-Forwarded-For: rswatjfet.org@gmail.com rsw@jfet.org
Delivered-To: rswatjfet.org@gmail.com
Received: by 10.70.10.98 with SMTP id h2csp167423pdb;
        Tue, 3 Jun 2014 15:53:22 -0700 (PDT)
X-Received: by 10.68.220.103 with SMTP id pv7mr55911046pbc.17.1401836002151;
        Tue, 03 Jun 2014 15:53:22 -0700 (PDT)
Received: from localhost (antiproton.jfet.org. [209.141.47.85])
        by mx.google.com with ESMTPS id rn1si1247636pbc.172.2014.06.03.15.53.21
        for <rswATjfet.org@gmail.com>
        (version=TLSv1.2 cipher=RC4-SHA bits=128/128);
        Tue, 03 Jun 2014 15:53:22 -0700 (PDT)
Received-SPF: neutral (google.com: 209.141.47.85 is neither permitted nor denied by domain of rsw+cypherpunks-bounces=cpunks.org@gloop.phonon.net) client-ip=209.141.47.85;
Authentication-Results: mx.google.com;
       spf=neutral (google.com: 209.141.47.85 is neither permitted nor denied by domain of rsw+cypherpunks-bounces=cpunks.org@gloop.phonon.net) smtp.mail=rsw+cypherpunks-bounces=cpunks.org@gloop.phonon.net
Received: from antiproton.jfet.org (localhost.localdomain [127.0.0.1])
	by antiproton.jfet.org (8.14.4/8.14.4/Debian-4.1) with ESMTP id s53MtIZt032638;
	Tue, 3 Jun 2014 18:55:19 -0400
Received: from straum.hexapodia.org (straum.hexapodia.org [192.235.78.53])
 by antiproton.jfet.org (8.14.4/8.14.4/Debian-4.1) with ESMTP id s53MtFAA032634
 (version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-GCM-SHA384 bits=256 verify=NOT)
 for <cypherpunks@cpunks.org>; Tue, 3 Jun 2014 18:55:16 -0400
Received: by straum.hexapodia.org (Postfix, from userid 22448)
 id F3D5A4228; Tue,  3 Jun 2014 15:53:02 -0700 (PDT)
Date: Tue, 3 Jun 2014 15:53:02 -0700
To: rysiek <rysiek@hackerspace.pl>
Subject: Re: "a skilled backdoor-writer can defeat skilled auditors"?
Message-ID: <20140603225302.GJ10586@hexapodia.org>
References: <1800350.DuBgtkdSDz@lapuntu>
MIME-Version: 1.0
Content-Type: text/plain; charset=utf-8
Content-Disposition: inline
Content-Transfer-Encoding: 8bit
In-Reply-To: <1800350.DuBgtkdSDz@lapuntu>
X-Old-GPG-Fingerprint: 1914 0645 FD53 C18E EEEF C402 4A69 B1F3 68D2 A63F
X-GPG-Fingerprint: A5FC 6141 F76D B6B1 C81F  0FB7 AFA0 A45F ED3D 116D
X-GPG-Key-URL: http://web.hexapodia.org/~adi/gpg.txt
X-Domestic-Surveillance: money launder bomb tax evasion
User-Agent: Mutt/1.5.21 (2010-09-15)
Cc: cypherpunks@cpunks.org
X-BeenThere: cypherpunks@cpunks.org
X-Mailman-Version: 2.1.16
Precedence: list
List-Id: The Cypherpunks Mailing List <cypherpunks.cpunks.org>
List-Unsubscribe: <https://cpunks.org/mailman/options/cypherpunks>,
 <mailto:cypherpunks-request@cpunks.org?subject=unsubscribe>
List-Archive: <http://cpunks.org/pipermail/cypherpunks/>
List-Post: <mailto:cypherpunks@cpunks.org>
List-Help: <mailto:cypherpunks-request@cpunks.org?subject=help>
List-Subscribe: <https://cpunks.org/mailman/listinfo/cypherpunks>,
 <mailto:cypherpunks-request@cpunks.org?subject=subscribe>
Errors-To: cypherpunks-bounces@cpunks.org
Sender: "cypherpunks" <cypherpunks-bounces@cpunks.org>
From: Andy Isaacson <adi@hexapodia.org>
X-Gspam-Loop: antiproton.jfet.org
Status: O
Content-Length: 3324
Lines: 70

On Wed, Jun 04, 2014 at 12:35:20AM +0200, rysiek wrote:
> In short several very skilled security auditors examined a small Python 
> program — about 100 lines of code — into which three bugs had been inserted by 
> the authors. There was an “easy,” “medium,” and “hard” backdoor. There were 
> three or four teams of auditors.
> 
> 1. One auditor found the “easy” and the “medium” ones in about 70 minutes, and 
> then spent the rest of the day failing to find any other bugs.
> 
> 2. One team of two auditors found the “easy” bug in about five hours, and 
> spent the rest of the day failing to find any other bugs.
> 
> 3. One auditor found the “easy” bug in about four hours, and then stopped.
> 
> 4. One auditor either found no bugs or else was on a team with the third 
> auditor — the report is unclear.
> 
> See Chapter 7 of Yee’s report for these details.
> 
> I should emphasize that that I personally consider these people to be 
> extremely skilled. One possible conclusion that could be drawn from this 
> experience is that a skilled backdoor-writer can defeat skilled auditors. This 
> hypothesis holds that only accidental bugs can be reliably detected by 
> auditors, not deliberately hidden bugs.
> 
> Anyway, as far as I understand the bugs you folks left in were accidental bugs 
> that you then deliberately didn’t-fix, rather than bugs that you intentionally 
> made hard-to-spot.
> 
> - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
> https://blog.spideroak.com/20140220090004-responsibly-bringing-new-cryptography-product-market#footnote1
> 
> I have no problem believing it is thus, but can't help wondering if there are 
> any ways to mitigate it.


My mitigation would be to make auditing a default-deny rule, rather than
a default-allow.

Security auditing needs to be a holistic analysis, starting by
re-engaging with the requirements, verifying that the design is a
sensible and minimal approach to addressing the requirements, and
verifying that the implementation is a sensible, safe, auditable,
version controlled, approach to the design.

If the auditor at any point says "Well, I wouldn't have *recommended*
that you implement your JSON parsing in ad-hoc C with pointer arithmetic
and poor and misleading comments, but I can't find any *bugs* so I guess
it must be OK" then that is an immediate fail.

This is the default deny: we default to assuming the system is insecure,
and any sign that this might be true results in a failure.

Versus the current auditing method of default-allow: we run the audit,
and if no *concrete* exploits or bugs are found before the auditors run
out of time, then we trumpet that the system "has passed its audit".

Only if the design is sane, the implementation is sane, the development
team is following best practices and defensive coding strategies, with a
cryptographically and procedurally audited edit trail (immutable git
commit logs signed and committed to W/O media) in a development
environment that is safe by default rather than risky by default ...

... then you *might* have a chance of catching the intentional backdoor
inserted by the APT malware on your team member's workstation.

Current efforts in this direction fall *very* far short of the utopia I
describe.

-andy

